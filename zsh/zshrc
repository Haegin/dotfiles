# # Uncomment this and the zprof call at the bottom to profile startup time
# zmodload zsh/zprof

# Detect if running in an AI agent context
if [[ -n "$CURSOR_AGENT" || "$CLAUDECODE" == "1" ]]; then
  # Minimal agent mode - fast startup, no fancy aliases
  source $ZDOTDIR/agent.zsh
else
  # Full interactive config
  source_files_in_directory $ZDOTDIR/zshrc.d
fi

[ -f ~/.zsh/zshrc.local ] && source ~/.zsh/zshrc.local
